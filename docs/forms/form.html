<!DOCTYPE html><html><head><title>Wizhi CMS 文档</title><link rel="stylesheet" href="https://iwillhappy1314.github.io/wizhi-cms-doc/style.css"><meta name="viewport" content="width=device-width, initial-scale=1"><style>.wrap {
    width: 1200px;
}
</style></head><body id="main" data-spy="scroll" data-target="#nav"><header id="header" class="wrapper"><div id="header-inner" class="inner"><h1 id="logo-wrap"><a id="logo" href="/wizhi-cms-doc/">Wizhi CMS</a></h1><nav id="main-nav"><a href="/wizhi-cms-doc/" class="main-nav-link">文档</a><a target="_blank" href="https://github.com/iwillhappy1314/wizhi-cms" class="main-nav-link">代码</a><a target="_blank" href="https://github.com/iwillhappy1314/wizhi-ui" class="main-nav-link">UI 库</a><a target="_blank" href="https://github.com/iwillhappy1314/front" class="main-nav-link">前端工具</a><a target="_blank" href="https://github.com/iwillhappy1314/enter" class="main-nav-link">主题框架</a><a target="_blank" href="https://www.wpzhiku.com" class="main-nav-link">WordPress 智库</a></nav></div></header><div id="content-wrap"><div id="content" class="wrapper"><div id="content-inner"><article itemscope="" itemtype="http://schema.org/Article" class="article-container"><div class="article-inner"><div class="article"><div class="inner"><header class="article-header"><span>Wizhi CMS 文档</span></header><div itemprop="articleBody" class="article-content"><h2>Formmanager</h2><p>Formbuilder 已改用 WordPress FieldManager 的方案, 请参考文档 <a href="http://fieldmanager.org/docs/">Fieldmanager</a></p>
<p>Formbuilder 的数据结构中，很多类型的数据都是以数组的方式保存的，这种方式可能会在获取和更新数据的时候带来一些不便，不过好处在于可以提高性能。</p>
<p>Frommanager 插件支持以 tab 的形式显示自定义字段，对于自定义字段比较多的站点，可以提升后台的用户体验。</p>
<table>
<thead>
<tr>
<th><code>public static boolean</code></th>
<th><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#12-16">$debug</a></th>
<th><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$debug">#</a>If true, throw exceptions for illegal behavior</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>public integer</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#18-22">$limit</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$limit">#</a>How many of these fields to display, 0 for no limit</td>
</tr>
<tr>
<td><code>public integer</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#32-38">$minimum_count</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$minimum_count">#</a>How many of these fields to display at a minimum, if $limit != 1. If $limit == $minimum_count, the &quot;add another&quot; button and the remove tool will be hidden.</td>
</tr>
<tr>
<td><code>public integer</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#40-45">$extra_elements</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$extra_elements">#</a>How many empty fields to display if $limit != 1 when the total fields in the loaded data + $extra_elements &gt; $minimum_count.</td>
</tr>
<tr>
<td><code>public string</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#47-51">$add_more_label</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$add_more_label">#</a>Text for add more button</td>
</tr>
<tr>
<td><code>public string</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#53-57">$name</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$name">#</a>The name of the form element, As in &#39;foo&#39; in <input name="foo"></td>
</tr>
<tr>
<td><code>public string</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#59-63">$label</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$label">#</a>Label to use for form element</td>
</tr>
<tr>
<td><code>public boolean</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#65-69">$inline_label</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$inline_label">#</a>If true, the label and the element will display on the same line. Some elements may not support this.</td>
</tr>
<tr>
<td><code>public boolean</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#71-75">$label_after_element</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$label_after_element">#</a>If true, the label will be displayed after the element.</td>
</tr>
<tr>
<td><code>public string</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#77-81">$description</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$description">#</a>Description for the form element</td>
</tr>
<tr>
<td><code>public boolean</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#83-87">$description_after_element</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$description_after_element">#</a>If true, the description will be displayed after the element.</td>
</tr>
<tr>
<td><code>public string or boolean[]</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#89-93">$attributes</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$attributes">#</a>Extra HTML attributes to apply to the form element. Use boolean true to apply a standalone attribute, e.g. &#39;required&#39; =&gt; true</td>
</tr>
<tr>
<td><code>public string</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#95-99">$field_class</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$field_class">#</a>CSS class for form element</td>
</tr>
<tr>
<td><code>public boolean</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#101-105">$one_label_per_item</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$one_label_per_item">#</a>Repeat the label for each element if $limit &gt; 1</td>
</tr>
<tr>
<td><code>public boolean</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#107-111">$sortable</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$sortable">#</a>Allow draggable sorting if $limit &gt; 1</td>
</tr>
<tr>
<td><code>public string</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#113-117">$label_element</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$label_element">#</a>HTML element to use for label</td>
</tr>
<tr>
<td><code>public callable</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#119-123">$sanitize</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$sanitize">#</a>Function to use to sanitize input</td>
</tr>
<tr>
<td><code>public callback[]</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#125-129">$validate</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$validate">#</a>Functions to use to validate input</td>
</tr>
<tr>
<td><code>public string or array</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#131-137">$validation_rules</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$validation_rules">#</a>jQuery validation rule(s) used to validate this field, entered as a string or associative array. These rules will be automatically converted to the appropriate Javascript format. For more information see <a href="http://jqueryvalidation.org/documentation/">http://jqueryvalidation.org/documentation/</a></td>
</tr>
<tr>
<td><code>public string or array</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#139-146">$validation_messages</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$validation_messages">#</a>jQuery validation messages used by the rule(s) defined for this field, entered as a string or associative array. These rules will be automatically converted to the appropriate Javascript format. Any messages without a corresponding rule will be ignored. For more information see <a href="http://jqueryvalidation.org/documentation/">http://jqueryvalidation.org/documentation/</a></td>
</tr>
<tr>
<td><code>public boolean</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#148-153">$required</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$required">#</a>Makes the field required on WordPress context forms that already have built-in validation. This is necessary only for the fields used with the term add context.</td>
</tr>
<tr>
<td><code>public string or null</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#155-159">$data_type</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$data_type">#</a>Data type this element is used in, generally set internally</td>
</tr>
<tr>
<td><code>public integer or null</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#161-165">$data_id</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$data_id">#</a>ID for $this-&gt;data_type, eg $post-&gt;ID, generally set internally</td>
</tr>
<tr>
<td><code>public boolean</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#167-171">$save_empty</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$save_empty">#</a>If true, save empty elements to DB (if $this-&gt;limit != 1; single elements are always saved)</td>
</tr>
<tr>
<td><code>public boolean</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#173-177">$skip_save</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$skip_save">#</a>Do not save this field (useful for fields which handle saving their own data)</td>
</tr>
<tr>
<td><code>public boolean</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#179-183">$index</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$index">#</a>Save this field additionally to an index</td>
</tr>
<tr>
<td><code>public boolean</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#185-190">$serialize_data</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$serialize_data">#</a>Save the fields to their own keys (only works in some contexts). Default is true.</td>
</tr>
<tr>
<td><code>public Fieldmanager_Datasource</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#192-196">$datasource</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$datasource">#</a>Optionally generate field from datasource. Used by Fieldmanager_Autocomplete and Fieldmanager_Options.</td>
</tr>
<tr>
<td><code>public array[]</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#198-206">$display_if</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$display_if">#</a>Field name and value on which to display element. Sample: $element-&gt;display_if = array( &#39;src&#39; =&gt; &#39;display-if-src-element&#39;, &#39;value&#39; =&gt; &#39;display-if-src-value&#39; );</td>
</tr>
<tr>
<td><code>public string</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#208-213">$add_more_position</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$add_more_position">#</a>Where the new item should to added ( top/bottom ) of the stack. Used by Add Another button &quot;top\</td>
<td>bottom&quot;</td>
</tr>
<tr>
<td><code>public boolean</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#215-219">$remove_default_meta_boxes</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$remove_default_meta_boxes">#</a>If true, remove any default meta boxes that are overridden by Fieldmanager fields</td>
</tr>
<tr>
<td><code>public string</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#221-225">$template</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$template">#</a>Template The path to the field template</td>
</tr>
<tr>
<td><code>public array</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#227-231">$meta_boxes_to_remove</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$meta_boxes_to_remove">#</a>If $remove_default_meta_boxes is true, this array will be populated with the list of default meta boxes to remove</td>
</tr>
<tr>
<td><code>public mixed</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#233-237">$default_value</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$default_value">#</a>Default value The default value for the field, if unset</td>
</tr>
<tr>
<td><code>public callable or null</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#239-243">$index_filter</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$index_filter">#</a>Function that parses an index value and returns an optionally modified value.</td>
</tr>
<tr>
<td><code>public string</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#245-249">$input_type</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$input_type">#</a>Input type, mainly to support HTML5 input types.</td>
</tr>
<tr>
<td><code>public array</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#251-259">$escape</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$escape">#</a>Custom escaping for labels, descriptions, etc. Associative array of $field =&gt; $callable arguments, for example:</td>
</tr>
<tr>
<td><code>public boolean</code></td>
<td><a href="http://api.fieldmanager.org/source-class-Fieldmanager_Field.html#291-295">$is_attachment</a></td>
<td><a href="http://api.fieldmanager.org/class-Fieldmanager_Field.html#$is_attachment">#</a>Whether or not this field is present on the attachment edit screen</td>
</tr>
</tbody>
</table>
<h2>支持的字段类型</h2><h3>Text 文本字段</h3><pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_TextField( array(
        &#39;name&#39; =&gt; &#39;demo-field&#39;,
    ) );
    $fm-&gt;add_meta_box( &#39;TextField Demo&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<p><strong>html5 支持</strong></p>
<pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_TextField( array(
        &#39;name&#39; =&gt; &#39;demo-field&#39;,
        &#39;input_type&#39; =&gt; &#39;color&#39;,
    ) );
    $fm-&gt;add_meta_box( &#39;TextField Demo&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<h3>Media 文件上传</h3><pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_Media( array(
        &#39;name&#39; =&gt; &#39;demo-media&#39;,
    ) );
    $fm-&gt;add_meta_box( &#39;Media Field&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<p><strong>带选项</strong></p>
<pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_Media( array(
        &#39;name&#39; =&gt; &#39;demo-media&#39;,
        &#39;button_label&#39; =&gt; &#39;Add Icon&#39;,
        &#39;modal_title&#39; =&gt; &#39;Select Icon&#39;,
        &#39;modal_button_label&#39; =&gt; &#39;Use Image as Icon&#39;,
        &#39;preview_size&#39; =&gt; &#39;icon&#39;,
    ) );
    $fm-&gt;add_meta_box( &#39;Media Field&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<h3>TextArea 多段文本</h3><pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_TextArea( array(
        &#39;name&#39; =&gt; &#39;demo-field&#39;,
    ) );
    $fm-&gt;add_meta_box( &#39;TextArea Demo&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<p><strong>自定义尺寸</strong></p>
<pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_TextArea( array(
        &#39;name&#39; =&gt; &#39;demo-field&#39;,
        &#39;attributes&#39; =&gt; array(
            &#39;rows&#39; =&gt; 3,
            &#39;cols&#39; =&gt; 30,
        ),
    ) );
    $fm-&gt;add_meta_box( &#39;TextArea Demo&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<h3>RichTextArea 富文本编辑器</h3><pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_RichTextArea( array(
        &#39;name&#39; =&gt; &#39;demo-field&#39;,
    ) );
    $fm-&gt;add_meta_box( &#39;RichTextArea Demo&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<p><strong>编辑器设置</strong></p>
<pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_RichTextArea( array(
        &#39;name&#39; =&gt; &#39;demo-field&#39;,
        &#39;editor_settings&#39; =&gt; array(
            &#39;media_buttons&#39; =&gt; false,
        ),
    ) );
    $fm-&gt;add_meta_box( &#39;RichTextArea Demo&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<p>可视化编辑器可用选项参考 ：<a href="https://codex.wordpress.org/Function_Reference/wp_editor#Arguments">https://codex.wordpress.org/Function_Reference/wp_editor#Arguments</a></p>
<p><strong>简单编辑器</strong></p>
<pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_RichTextArea( array(
        &#39;name&#39; =&gt; &#39;demo-mini-field&#39;,
        &#39;buttons_1&#39; =&gt; array( &#39;bold&#39;, &#39;italic&#39;, &#39;bullist&#39;, &#39;numlist&#39;, &#39;link&#39; ),
        &#39;buttons_2&#39; =&gt; array(),
        &#39;editor_settings&#39; =&gt; array(
            &#39;quicktags&#39; =&gt; false,
            &#39;media_buttons&#39; =&gt; false,
        ),
    ) );
    $fm-&gt;add_meta_box( &#39;RichTextArea Demo&#39;, array( &#39;post&#39; ), &#39;side&#39; );
} );
</code></pre>
<h3>Radios 单选项</h3><pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_Radios( array(
        &#39;name&#39; =&gt; &#39;demo-field&#39;,
        &#39;options&#39; =&gt; array(
            &#39;red&#39; =&gt; &#39;Red&#39;,
            &#39;green&#39; =&gt; &#39;Green&#39;,
            &#39;blue&#39; =&gt; &#39;Blue&#39;,
        ),
    ) );
    $fm-&gt;add_meta_box( &#39;Radio Fields&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<p><strong>数据来源</strong></p>
<pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_Radios( array(
        &#39;name&#39; =&gt; &#39;demo-field&#39;,
        &#39;datasource&#39; =&gt; new Fieldmanager_Datasource_User,
    ) );
    $fm-&gt;add_meta_box( &#39;Radio Buttons Demo&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<h3>Checkbox 选项</h3><pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_Checkbox( array(
        &#39;name&#39; =&gt; &#39;demo-field&#39;,
        &#39;label&#39; =&gt; &#39;Checkbox Label&#39;,
    ) );
    $fm-&gt;add_meta_box( &#39;Basic Checkbox&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<p>设置选中项值</p>
<pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_Checkbox( array(
        &#39;name&#39; =&gt; &#39;demo-field&#39;,
        &#39;label&#39; =&gt; &#39;Sample Checkbox&#39;,
        &#39;checked_value&#39; =&gt; &#39;yes&#39;,
        &#39;unchecked_value&#39; =&gt; &#39;no&#39;,
    ) );
    $fm-&gt;add_meta_box( &#39;Custom Checkbox Values&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<h3>CheckBoxes 多选项</h3><pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_Checkboxes( array(
        &#39;name&#39; =&gt; &#39;demo-field&#39;,
        &#39;options&#39; =&gt; array(
            &#39;red&#39; =&gt; &#39;Red&#39;,
            &#39;green&#39; =&gt; &#39;Green&#39;,
            &#39;blue&#39; =&gt; &#39;Blue&#39;,
        ),
    ) );
    $fm-&gt;add_meta_box( &#39;Checkboxes Demo&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<p><strong>数据来源</strong></p>
<pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_Checkboxes( array(
        &#39;name&#39; =&gt; &#39;demo-field&#39;,
        &#39;datasource&#39; =&gt; new Fieldmanager_Datasource_User,
    ) );
    $fm-&gt;add_meta_box( &#39;Checkboxes Demo&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<h3>Select 下拉选择</h3><pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_Select( array(
        &#39;name&#39; =&gt; &#39;demo-field&#39;,
        &#39;options&#39; =&gt; array(
            &#39;red&#39; =&gt; &#39;Red&#39;,
            &#39;green&#39; =&gt; &#39;Green&#39;,
            &#39;blue&#39; =&gt; &#39;Blue&#39;,
        ),
    ) );
    $fm-&gt;add_meta_box( &#39;Select Demo&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<p><strong>第一项为空</strong></p>
<pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_Select( array(
        &#39;name&#39; =&gt; &#39;demo-field&#39;,
        &#39;first_empty&#39; =&gt; true,
        &#39;options&#39; =&gt; array(
            &#39;red&#39; =&gt; &#39;Red&#39;,
            &#39;green&#39; =&gt; &#39;Green&#39;,
            &#39;blue&#39; =&gt; &#39;Blue&#39;,
        ),
    ) );
    $fm-&gt;add_meta_box( &#39;Select Demo&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<p><strong>数据来源</strong></p>
<pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_Select( array(
        &#39;name&#39; =&gt; &#39;demo-field&#39;,
        &#39;datasource&#39; =&gt; new Fieldmanager_Datasource_User,
    ) );
    $fm-&gt;add_meta_box( &#39;Select Demo&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<p><strong>下拉选择多选</strong></p>
<pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_Select( array(
        &#39;name&#39; =&gt; &#39;demo-field&#39;,
        &#39;multiple&#39; =&gt; true,
        &#39;attributes&#39; =&gt; array(
            &#39;size&#39; =&gt; 3,
        ),
        &#39;options&#39; =&gt; array(
            &#39;red&#39; =&gt; &#39;Red&#39;,
            &#39;green&#39; =&gt; &#39;Green&#39;,
            &#39;blue&#39; =&gt; &#39;Blue&#39;,
        ),
    ) );
    $fm-&gt;add_meta_box( &#39;Select Demo&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<p><strong>使用 Choosen 效果</strong></p>
<pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_Select( array(
        &#39;name&#39; =&gt; &#39;demo-field&#39;,
        &#39;type_ahead&#39; =&gt; true,
        &#39;options&#39; =&gt; array(
            &#39;red&#39; =&gt; &#39;Red&#39;,
            &#39;green&#39; =&gt; &#39;Green&#39;,
            &#39;blue&#39; =&gt; &#39;Blue&#39;,
        ),
    ) );
    $fm-&gt;add_meta_box( &#39;Select Demo&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<h3>Color Picker 颜色选择</h3><pre><code class="language-php">$fm = new Fieldmanager_Colorpicker( array(
    &#39;name&#39; =&gt; &#39;basic_colorpicker&#39;,
) );
$fm-&gt;add_meta_box( &#39;Basic Colorpicker&#39;, &#39;post&#39; );
</code></pre>
<h3>Date Picker 日期选择</h3><pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_Datepicker( array(
        &#39;name&#39; =&gt; &#39;demo-field&#39;,
    ) );
    $fm-&gt;add_meta_box( &#39;Datepicker Demo&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<p><strong>带时间</strong></p>
<pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_Datepicker( array(
        &#39;name&#39; =&gt; &#39;demo-field&#39;,
        &#39;use_time&#39; =&gt; true,
    ) );
    $fm-&gt;add_meta_box( &#39;Datepicker Demo&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<p><strong>自定义日期格式</strong></p>
<pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_Datepicker( array(
        &#39;name&#39; =&gt; &#39;demo-field&#39;,
        &#39;date_format&#39; =&gt; &#39;Y-m-d&#39;,
        &#39;js_opts&#39; =&gt; array(
            &#39;dateFormat&#39; =&gt; &#39;yy-mm-dd&#39;,
        ),
    ) );
    $fm-&gt;add_meta_box( &#39;Datepicker Demo&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<h3>Hidden 隐藏字段</h3><pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_Hidden( array(
        &#39;name&#39; =&gt; &#39;demo-field&#39;,
    ) );
    $fm-&gt;add_meta_box( &#39;Uninteresting Demo&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<h3>Link 链接</h3><pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_Link( array(
        &#39;name&#39; =&gt; &#39;demo-link&#39;,
    ) );
    $fm-&gt;add_meta_box( &#39;Basic Link Field&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<h3>Password 密码</h3><pre><code class="language-php">add_action( &#39;fm_post_post&#39;, function() {
    $fm = new Fieldmanager_Password( array(
        &#39;name&#39; =&gt; &#39;demo-password&#39;,
    ) );
    $fm-&gt;add_meta_box( &#39;Password Field&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<h3>Autocomplete 自动完成</h3><pre><code class="language-php">$fm = new Fieldmanager_Autocomplete( array(
    &#39;name&#39; =&gt; &#39;size&#39;,
    &#39;datasource&#39;  =&gt; new Fieldmanager_Datasource( array(
        &#39;options&#39; =&gt; array( &#39;Small&#39;, &#39;Medium&#39;, &#39;Large&#39; ),
    ) ),
) );
$fm-&gt;add_meta_box( &#39;Autocomplete Field&#39;, &#39;post&#39; );
</code></pre>
<p><strong>数据来源</strong></p>
<pre><code class="language-php">$fm = new Fieldmanager_Autocomplete( array(
    &#39;name&#39; =&gt; &#39;related_post&#39;,
    &#39;show_edit_link&#39; =&gt; true,
    &#39;datasource&#39; =&gt; new Fieldmanager_Datasource_Post( array(
        &#39;query_args&#39; =&gt; array( &#39;post_type&#39; =&gt; &#39;post&#39; ),
    ) ),
) );
$fm-&gt;add_meta_box( &#39;Related Post&#39;, &#39;post&#39; );
</code></pre>
<h2>元数据盒子显示的位置</h2><h3>文章类型</h3><pre><code class="language-php">$fm-&gt;add_meta_box( &#39;Basic Field&#39;, &#39;post&#39; );
</code></pre>
<h3>分类项目</h3><pre><code class="language-php">$fm-&gt;add_term_meta_box( &#39;Basic Field&#39;, &#39;category&#39; );
</code></pre>
<h3>子菜单页面</h3><pre><code class="language-php">if ( function_exists( &#39;fm_register_submenu_page&#39; ) ) {
    fm_register_submenu_page( &#39;my_fields&#39;, &#39;tools.php&#39;, &#39;Meta Fields&#39; );
}
add_action( &#39;fm_submenu_my_fields&#39;, function() {
    $fm = new Fieldmanager_TextField( array(
        &#39;name&#39; =&gt; &#39;my_fields&#39;,
    ) );
    $fm-&gt;activate_submenu_page();
} );
</code></pre>
<h3>用户资料</h3><pre><code class="language-php">$fm-&gt; add_user_form( &#39;Basic Field&#39; );
</code></pre>
<h3>文章快速编辑</h3><pre><code class="language-php">$fm-&gt;add_quickedit_box( &#39;Basic Field&#39;, &#39;post&#39;, function( $values ) {
    return ! empty( $values[&#39;demo&#39;] ) ? $values[&#39;demo&#39;] : &#39;&#39;;
} );
</code></pre>
<h2>字段组</h2><pre><code class="language-php">add_action( &#39;after_setup_theme&#39;, function() {
    $fm = new Fieldmanager_Group( array(
        &#39;name&#39; =&gt; &#39;demo-group&#39;,
        &#39;serialize_data&#39; =&gt; false,
        &#39;add_to_prefix&#39;  =&gt; false,
        &#39;children&#39; =&gt; array(
            &#39;field-one&#39; =&gt; new Fieldmanager_TextField( &#39;First Field&#39; ),
            &#39;field-two&#39; =&gt; new Fieldmanager_TextField( &#39;Second Field&#39; ),
        ),
    ) );
    $fm-&gt;add_meta_box( &#39;Basic Group&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<p>上面的代码中：</p>
<ul>
<li>name: 字段组的名称，children 以数组的形式保存为自定义字段。</li>
<li>serialize_data: 是否序列化字段组的数据，不序列化方便访问自断组中的数据，序列化提高访问效率，酌情使用。</li>
<li>add_to_prefix: 序列化后，是否添加前缀。</li>
<li>children: 字段组中的字段</li>
<li>array(&#39;post&#39;): 字段支持的自定义文章类型 </li>
</ul>
<h2>字段组字段带选项</h2><pre><code class="language-php">add_action( &#39;after_setup_theme&#39;, function() {
    $fm = new Fieldmanager_Group( array(
        &#39;name&#39; =&gt; &#39;demo-group&#39;,
        &#39;serialize_data&#39; =&gt; false,
        &#39;add_to_prefix&#39;  =&gt; false,
        &#39;children&#39; =&gt; array(
            &#39;field-one&#39; =&gt; new Fieldmanager_TextField( &#39;First Field&#39; ),
            &#39;field-two&#39; =&gt; new Fieldmanager_RichTextArea( [
                        &#39;label&#39;      =&gt; &#39;使用方法&#39;,
                        &#39;attributes&#39; =&gt; [
                            &#39;rows&#39;     =&gt; 5,
                            &#39;cols&#39;     =&gt; 50,
                            &#39;readonly&#39; =&gt; true,
                        ],
                    ] ),
        ),
    ) );
    $fm-&gt;add_meta_box( &#39;Basic Group&#39;, array( &#39;post&#39; ) );
} );
</code></pre>
<h2>带选项卡的自定义字段盒子</h2><pre><code class="language-php">add_action( &#39;after_setup_theme&#39;, function() {
    $fm = new Fieldmanager_Group( array(
        &#39;name&#39;           =&gt; &#39;tabbed_meta_fields&#39;,
        &#39;tabbed&#39;         =&gt; &#39;vertical&#39;,
        //&#39;tabbed&#39;         =&gt; &#39;horizontal&#39;,
        &#39;serialize_data&#39; =&gt; false,
        &#39;add_to_prefix&#39;  =&gt; false,
        &#39;children&#39;       =&gt; array(
            &#39;tab-1&#39; =&gt; new Fieldmanager_Group( array(
               &#39;serialize_data&#39; =&gt; false,
               &#39;add_to_prefix&#39;  =&gt; false,
                &#39;label&#39;          =&gt; &#39;First Tab&#39;,
                &#39;children&#39;       =&gt; array(
                    &#39;text&#39; =&gt; new Fieldmanager_Textfield( &#39;Text Field&#39; ),
                )
            ) ),
            &#39;tab-2&#39; =&gt; new Fieldmanager_Group( array(
                &#39;label&#39;          =&gt; &#39;Second Tab&#39;,
               &#39;serialize_data&#39; =&gt; false,
               &#39;add_to_prefix&#39;  =&gt; false,
                &#39;children&#39;       =&gt; array(
                    &#39;textarea&#39; =&gt; new Fieldmanager_TextArea( &#39;TextArea&#39; ),
                    &#39;media&#39;    =&gt; new Fieldmanager_Media( &#39;Media File&#39; ),
                )
            ) ),
        )
    ) );
    $fm-&gt;add_meta_box( &#39;Tabbed Group&#39;, &#39;post&#39; );
} );
</code></pre></div></div></div></div></article><aside id="sidebar" role="navigation"><div class="inner"><strong class="sidebar-title"><span>文章类型/分类法</span></strong><a href="https://iwillhappy1314.github.io/wizhi-cms-doc//docs/types.html" class="sidebar-link"><span>文章类型</span></a><a href="https://iwillhappy1314.github.io/wizhi-cms-doc//docs/taxonomy.html" class="sidebar-link"><span>分类方法</span></a><strong class="sidebar-title"><span>ORM</span></strong><a href="https://iwillhappy1314.github.io/wizhi-cms-doc//docs/orm.html" class="sidebar-link"><span>RedbeanPHP ORM</span></a><strong class="sidebar-title"><span>路由</span></strong><a href="https://iwillhappy1314.github.io/wizhi-cms-doc//docs/router.html" class="sidebar-link"><span>路由系统</span></a><strong class="sidebar-title"><span>辅助函数</span></strong><a href="https://iwillhappy1314.github.io/wizhi-cms-doc//docs/helper/options.html" class="sidebar-link"><span>表单选项</span></a><a href="https://iwillhappy1314.github.io/wizhi-cms-doc//docs/helper/template.html" class="sidebar-link"><span>模板函数</span></a><strong class="sidebar-title"><span>表单构建类</span></strong><a href="https://iwillhappy1314.github.io/wizhi-cms-doc//docs/forms/form.html" class="sidebar-link"><span>字段类型</span></a><a href="https://iwillhappy1314.github.io/wizhi-cms-doc//docs/forms/option.html" class="sidebar-link"><span>设置选项</span></a><a href="https://iwillhappy1314.github.io/wizhi-cms-doc//docs/forms/post-meta.html" class="sidebar-link"><span>文章元数据</span></a><a href="https://iwillhappy1314.github.io/wizhi-cms-doc//docs/forms/term-meta.html" class="sidebar-link"><span>分类法元数据</span></a><a href="https://iwillhappy1314.github.io/wizhi-cms-doc//docs/forms/user-meta.html" class="sidebar-link"><span>用户元数据</span></a><strong class="sidebar-title"><span>简码</span></strong><a href="https://iwillhappy1314.github.io/wizhi-cms-doc//docs/shortcodes/loop.html" class="sidebar-link"><span>文章循环</span></a><a href="https://iwillhappy1314.github.io/wizhi-cms-doc//docs/shortcodes/list.html" class="sidebar-link"><span>文章标题列表</span></a><a href="https://iwillhappy1314.github.io/wizhi-cms-doc//docs/shortcodes/media.html" class="sidebar-link"><span>图文文章列表</span></a><a href="https://iwillhappy1314.github.io/wizhi-cms-doc//docs/shortcodes/slider.html" class="sidebar-link"><span>幻灯片</span></a><a href="https://iwillhappy1314.github.io/wizhi-cms-doc//docs/shortcodes/page.html" class="sidebar-link"><span>页面内容</span></a><a href="https://iwillhappy1314.github.io/wizhi-cms-doc//docs/shortcodes/element.html" class="sidebar-link"><span>UI 元素</span></a></div></aside></div></div></div><footer id="footer"><div class="wrapper"><div class="inner"><div id="footer-copyright">© 2016<a href="https://www.wpzhiku.com/" target="_blank">WordPress 智库 | Live in China, WordPress Developer</a></div><div id="footer-links"><a href="https://github.com/iwillhappy1314" target="_blank" class="footer-link">Profile</a><a href="https://github.com/iwillhappy1314/wizhi-cms" target="_blank" class="footer-link">Github</a></div></div></div></footer></body></html>